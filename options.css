/* Styles for options.html (Fix Domain Textarea & DnD Handle) */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    max-width: 800px; margin: 20px auto; padding: 15px;
    background-color: #f4f7f9; font-size: 14px; color: #333333; /* Updated default text color */
    background-image: url('images/2022_UM_vs_OSU_0054.jpg');
    background-size: cover; background-position: center center;
    background-repeat: no-repeat; background-attachment: fixed;
    background-color: #f4f7f9;
}

.container { background-color: #fff; padding: 20px 25px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
/* Keep general h1, h2, h3 color for elements not specifically targeted */
h1, h2, h3 { text-align: center; color: #222; margin-top: 0; margin-bottom: 20px; font-weight: 600; }
h1 { font-size: 1.6em; }
h1 .h1-scarlet { color: #BB0000; }
h1 .h1-swap { color: #666666; }
/* General h2 styling - might be overridden */
h2 { font-size: 1.3em; margin-top: 25px; border-bottom: 1px solid #e0e0e0; padding-bottom: 10px; }
/* Specific h2 styling for Rules heading */
#rules-heading { color: #BB0000; border-bottom-color: #BB0000; margin-top: 15px; margin-bottom: 5px; /* Reduced bottom margin */ }
/* Specific h2 styling for Premium headings */
h2.premium-h2 { font-size: 1.2em; color: #BB0000; border-bottom: 1px solid #BB0000; margin-top: 25px; padding-bottom: 8px; text-align: center; margin-bottom: 5px; transition: color 0.3s ease, border-color 0.3s ease; }
/* Increase margin-top for Unlockable Features heading */
#premium-features-heading {
    margin-top: 30px; /* Increased space above this heading */
    margin-bottom: 5px; /* Keep bottom margin small */
}
/* Locked state for Premium h2 */
#premium-features-area[aria-disabled="true"] h2.premium-h2 { color: #888888; border-bottom-style: dashed; border-bottom-color: #cccccc; } /* Updated locked color and border */
/* Locked state for Premium descriptions */
#premium-features-area[aria-disabled="true"] > p.description { color: #aaaaaa; transition: color 0.3s ease; } /* Kept as recommended */
#premium-features-area:not([aria-disabled="true"]) > p.description { color: #666666; transition: color 0.3s ease; } /* Updated unlocked color */
/* Subsection heading */
h3 { font-size: 1.1em; margin-top: 20px; margin-bottom: 15px; color: #444444; text-align: left; } /* Updated color */
/* Standard HR and Rule HR */
hr, .rule-hr { border: none; border-top: 1px solid #e0e0e0; margin: 30px 0; } /* Consolidated HR style */
.rule-hr { margin: 5px 0; } /* Kept specific margin for rule HR */


/* Styles for top button group */
.top-button-group {
    display: flex; /* Arrange buttons horizontally */
    justify-content: center; /* Center buttons */
    gap: 15px; /* Space between buttons */
    margin-bottom: 5px; /* Space below buttons before status */
    flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
}
.top-button-group .action-btn {
    width: auto; /* Allow buttons to size based on content */
    flex-grow: 0; /* Don't allow buttons to grow */
    margin: 5px 0; /* Add vertical margin for wrapping */
}
/* Target status message specifically after button group */
.top-button-group + .status#share-status {
    margin-top: 5px;
    width: 100%; /* Ensure it takes full width for centering */
    text-align: center; /* Explicitly center */
    margin-bottom: 20px; /* Restore margin */
}

/* --- UPDATED: Bundle Management Styles --- */
.bundle-management {
    margin-bottom: 15px;
    padding: 10px;
    background-color: #f9f9f9; /* Light background */
    border: 1px solid #e0e0e0;
    border-radius: 6px;
    display: flex;
    align-items: center; /* Keep overall vertical centering for label/select/button group */
    gap: 10px;
    flex-wrap: wrap; /* Allow wrapping */
}
.bundle-management label {
    margin-bottom: 0; /* Align with select */
    flex-shrink: 0; /* Prevent label from shrinking */
    margin-right: 5px; /* Slightly reduce margin */
}
#bundle-selector {
    flex-grow: 1; /* Allow selector to take available space */
    min-width: 150px; /* Minimum width */
    max-width: 45%; /* Adjust max width */
    margin-bottom: 0; /* Remove bottom margin */
}
.bundle-actions {
    display: flex; /* Align buttons horizontally */
    gap: 8px; /* Space between buttons */
    flex-shrink: 0; /* Prevent button group from shrinking */
    /* REMOVED margin-left: auto; to prevent pushing right */
    align-items: center; /* REVERTED: Align button centers vertically */
}
.bundle-action-btn {
    padding: 6px 12px; /* Smaller padding */
    font-size: 0.9em;
    width: auto; /* Auto width */
    margin-left: 0; /* Remove margin, use gap instead */
    flex-shrink: 0;
    box-sizing: border-box; /* Ensure padding/border are included in height calculation */
}
/* --- End Bundle Management Styles --- */

.setting-item { margin-bottom: 15px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; }
label { margin-right: 10px; color: #444444; font-weight: 500; display: block; margin-bottom: 5px; font-size: 0.95em; }
.rule-options label { display: inline-flex; align-items: center; font-weight: normal; margin-bottom: 0; font-size: 0.95em; margin-right: 15px; cursor: pointer; }
.rule-options input[type="checkbox"] { margin-right: 5px; }

/* Inputs */
input[type="text"], textarea, select { width: 100%; padding: 9px 12px; margin-bottom: 8px; border: 1px solid #cccccc; border-radius: 6px; box-sizing: border-box; font-size: 0.95em; background-color: #ffffff; color: #333333; transition: border-color 0.2s ease, box-shadow 0.2s ease; } /* Updated border, background, text color */
input[type="text"]:focus, textarea:focus, select:focus { border-color: #2196F3; box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.2); outline: none; }
textarea { resize: vertical; min-height: 50px; }
select { margin-bottom: 10px; appearance: none; background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23666%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat; background-position: right 10px top 50%; background-size: .65em auto; padding-right: 30px; }

/* Rules List & Items */
.rules-list-container { border: 1px solid #e0e0e0; border-radius: 6px; overflow-y: auto; padding: 10px; background-color: #fdfdfd; margin-top: 10px; /* Added margin top */ }
.rule-item { display: block; background-color: #fff; border: 1px solid #dddddd; border-radius: 6px; margin-bottom: 10px; transition: box-shadow 0.2s ease, border-color 0.1s linear; position: relative; }
.rule-item[open] { box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
.rule-summary { padding: 12px 15px; cursor: pointer; display: flex; align-items: center; gap: 10px; list-style: none; }
.rule-summary::-webkit-details-marker { display: none; }
.rule-summary::before { content: 'â–¶'; font-size: 0.7em; margin-right: 8px; transition: transform 0.2s ease; display: inline-block; color: #666666; }
.rule-item[open] > .rule-summary::before { transform: rotate(90deg); }
.drag-handle { font-size: 1.3em; cursor: grab; color: #bbbbbb; padding-right: 8px; user-select: none; }
.drag-handle:active { cursor: grabbing; }
/* Style for disabled drag handle */
.drag-handle[draggable="false"] {
    cursor: default;
    opacity: 0.4;
}
.rule-display-description { font-weight: 500; flex-grow: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; user-select: none; }
.rule-display-find-replace { font-size: 0.9em; color: #555555; white-space: nowrap; user-select: none; background-color: #eeeeee; padding: 2px 6px; border-radius: 4px; margin-left: auto; }
.disabled-indicator { font-size: 0.8em; color: #888888; font-style: italic; margin-left: 8px; }
.rule-details { padding: 20px; border-top: 1px solid #eeeeee; display: flex; flex-direction: column; gap: 10px; background-color: #fafafa; }
.rule-inputs, .per-rule-domain-filter { border-top: none; margin-top: 0; padding-top: 0; order: initial; flex-basis: auto; }
/* --- Rule Options Styling (Moved) --- */
.rule-options {
    display: flex;
    flex-wrap: wrap;
    gap: 10px 20px;
    margin-top: 5px; /* Add some space above checkboxes */
    margin-bottom: 10px; /* Add space below checkboxes before next label */
    padding: 8px; /* Optional: Add some padding */
    background-color: #f8f8f8; /* Optional: Slight background */
    border-radius: 4px; /* Optional: Rounded corners */
}
/* --- End Rule Options Styling --- */
.remove-rule-btn {
    order: initial;
    margin-left: 0;
    /* Removed margin-top: 10px; to fix vertical alignment */
    align-self: flex-start;
}
.per-rule-domain-filter label { font-weight: normal; font-size: 0.9em;}
.rule-domain-list-container { margin-top: 5px; }
/* --- Added CSS Rule --- */
.rule-domain-list-container.hidden { display: none; } /* Hides textarea container */
.rule-enable-toggle-container { padding-bottom: 0; margin-bottom: 0; }
.rule-enable-toggle-container label:first-child { font-weight: 500; }

/* Toggle Switch Styles (Smaller) */
.switch { position: relative; display: inline-block; width: 34px; height: 18px; margin-left: auto; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #cccccc; transition: .4s; }
.slider:before { position: absolute; content: ""; height: 14px; width: 14px; left: 2px; bottom: 2px; background-color: white; transition: .4s; }
input:checked + .slider { background-color: #BB0000; }
input:checked + .slider:before { transform: translateX(16px); }
.slider.round { border-radius: 18px; }
.slider.round:before { border-radius: 50%; }

/* Buttons */
.action-btn, .remove-rule-btn { padding: 9px 16px; border: none; border-radius: 6px; cursor: pointer; font-size: 0.95em; font-weight: 500; transition: background-color 0.2s ease, box-shadow 0.2s ease; text-align: center; }
.action-btn:hover:not(:disabled) { box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
/* Add Rule Button (Primary) */
#add-rule-btn { background-color: #BB0000; color: white; display: block; width: auto; margin: 20px auto 0 auto; }
#add-rule-btn:hover:not(:disabled) { background-color: #e06666; }

/* --- Specific Bundle Action Button Colors --- */
/* Copy Bundle Button (Matches Add Rule) */
#copy-bundle-btn {
    background-color: #BB0000;
    color: white;
    border: 1px solid transparent; /* Added transparent border for height consistency */
}
#copy-bundle-btn:hover:not(:disabled) { background-color: #e06666; }
/* Remove/Delete Bundle Button (Matches Remove Rule) */
#delete-bundle-btn { background-color: #f7f7f7; color: #BB0000; border: 1px solid #e0e0e0; }
#delete-bundle-btn:hover:not(:disabled) { background-color: #ebebeb; border-color: #cccccc; }
/* Rename Bundle Button (Neutral/Secondary) */
#rename-bundle-btn { background-color: #e0e0e0; color: #333333; border: 1px solid #cccccc; }
#rename-bundle-btn:hover:not(:disabled) { background-color: #d0d0d0; }
/* --- End Specific Bundle Action Button Colors --- */

/* Remove Rule Button (Destructive/Warning) - General class still used inside rule item */
.remove-rule-btn { background-color: #f7f7f7; color: #BB0000; border: 1px solid #e0e0e0; }
.remove-rule-btn:hover:not(:disabled) { background-color: #ebebeb; border-color: #cccccc; }
/* Hide Remove button for default rules */
.rule-item[data-is-default="true"] .remove-rule-btn {
    display: none;
}
/* Activate License Button (Primary - only appears when locked) */
#activate-license-btn { background-color: #BB0000; color: white; }
#activate-license-btn:hover:not(:disabled) { background-color: #e06666; }
/* Import/Export Button Group (Secondary) */
.button-group { display: flex; gap: 10px; justify-content: center; margin-top: 10px; }
.button-group .action-btn { flex-grow: 1; background-color: #e0e0e0; color: #333333; border: 1px solid #cccccc; }
.button-group .action-btn:hover:not(:disabled) { background-color: #d0d0d0; }
/* Share Button colors */
.share-btn { background-color: #BB0000; color: white; }
.share-btn:hover:not(:disabled) { background-color: #e06666; }
/* Feedback Button styles (similar to Share) */
.feedback-btn { background-color: #666666; color: white; }
.feedback-btn:hover:not(:disabled) { background-color: #888888; }

/* Status Messages */
/* General status style */
.status { text-align: center; margin-top: 10px; font-size: 0.9em; min-height: 1.2em; font-weight: 500; }
/* Specific status box style (used for license status) */
.status-box { padding: 10px 15px; margin-bottom: 15px; border-radius: 6px; text-align: center; font-weight: 500; font-size: 0.95em; }
.status-box.licensed { background-color: #fce4e4; color: #BB0000; border: 1px solid #f4cccc; }
.status-box.unlicensed { background-color: #eeeeee; color: #BB0000; border: 1px solid #dddddd; }

/* Descriptions */
.description { font-size: 0.9em; color: #666666; margin-top: 4px; margin-bottom: 12px; line-height: 1.5; } /* Updated unlocked color */
/* START ADDED/MODIFIED STYLES for link within description */
.description a {
    color: #666666; /* Match h1 .h1-swap color */
    text-decoration: underline;
}
.description a:hover {
    color: #000; /* Match footer link hover */
}
.description a:visited {
    color: #BB0000; /* Set visited color to Scarlet Red */
}
/* END ADDED/MODIFIED STYLES */
.import-warning { font-style: italic; text-align: center; }
.upgrade-description { text-align: center; }
.visually-hidden { position: absolute; left: -10000px; top: auto; width: 1px; height: 1px; overflow: hidden; }

/* Drag and Drop Styles */
.rule-item.dragging { opacity: 0.5; }
.drop-indicator { height: 8px; background-color: #BB0000; border-radius: 4px; margin: 2px 0; }

/* Disabled State Styling */
.premium-control[disabled], .premium-section[aria-disabled="true"] .premium-control, .premium-controls[aria-disabled="true"] .premium-control { opacity: 0.5; cursor: not-allowed !important; pointer-events: none; }
label:has(> .premium-control[disabled]) { opacity: 0.5; cursor: not-allowed; }
.premium-section[aria-disabled="true"] { opacity: 0.6; border: 1px dashed #cccccc; padding: 15px; margin-top: 10px; background-color: #fafafa; border-radius: 6px; pointer-events: none; }
.premium-section[aria-disabled="true"] * { pointer-events: auto; }
/* NOTE: This version does NOT include the specific rules added in v4-v8 attempting to force the label color */
.rule-options.premium-controls[aria-disabled="true"], .per-rule-domain-filter.premium-controls[aria-disabled="true"] { opacity: 0.5; pointer-events: none; }
.rule-options.premium-controls[aria-disabled="true"] *, .per-rule-domain-filter.premium-controls[aria-disabled="true"] * { pointer-events: auto; }
/* Disabled input background/border */
input[disabled], textarea[disabled], select[disabled] { background-color: #f0f0f0; }
input[disabled]:hover, textarea[disabled]:hover, select[disabled]:hover { border-color: #cccccc; }
button[disabled]:hover { background-color: initial; box-shadow: none; }
.rule-enable-toggle-control[aria-disabled="true"] { opacity: 0.5; cursor: not-allowed; pointer-events: none; }
/* Disabled state for bundle management buttons */
.bundle-action-btn.premium-control[disabled] {
    opacity: 0.5;
    cursor: not-allowed !important;
    pointer-events: none;
}
/* Disabled state for bundle selector options (handled by JS) */
#bundle-selector option[disabled] {
    color: #999;
    background-color: #f0f0f0;
}


/* Styles for Inline Unlock Form */
/* Use Flexbox for centering */
#license-form {
    display: flex;
    flex-direction: column;
    justify-content: center; /* Vertical centering */
    min-height: 100px; /* Give the form some height for centering to work */
    padding-top: 10px; /* Add some padding */
    padding-bottom: 10px;
}
#license-form .unlock-form-inline {
    display: flex; align-items: center; gap: 8px;
    margin-bottom: 8px; /* Keep margin below input line */
    /* Remove top margin, let flexbox handle centering */
}
#license-form .unlock-form-inline label { margin-bottom: 0; flex-shrink: 0; }
#license-form .unlock-form-inline input[type="text"] { flex-grow: 1; width: auto; margin-bottom: 0; }
#license-form .unlock-form-inline button { width: auto; margin-top: 0; flex-shrink: 0; } /* This targets the #activate-license-btn */
#license-form .status#activation-status {
    margin-top: 0; /* Remove top margin */
    margin-bottom: 8px; /* Keep margin below status */
    order: 2; /* Ensure status comes after input line in flex order */
}


/* Footer Styles */
.attribution-footer { margin-top: 30px; padding-top: 15px; border-top: 1px solid #e0e0e0; } /* Updated border color */
.attribution-footer p { font-size: 0.8em; color: #777777; text-align: center; line-height: 1.4; margin: 0; }
.attribution-footer a { color: #555555; text-decoration: underline; }
.attribution-footer a:hover { color: #000; }
